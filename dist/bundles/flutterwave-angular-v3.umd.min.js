!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/common"],e):e(t["flutterwave-angular-v3"]={},t.ng.core,t.ng.common)}(this,function(t,e,n){"use strict";var o=function u(){},s=function c(){},i=function(){function t(){this.callback=new e.EventEmitter,this.close=new e.EventEmitter,this.customer_defaults={email:"",phone_number:"",name:""},this.meta_defaults={consumer_id:"",consumer_mac:""},this.customizations_defaults={title:"",description:"",logo:""}}return t.prototype.ngOnInit=function(){},t.prototype.makePayment=function(){this.prepareForPayment(),FlutterwaveCheckout(this.inlinePaymentOptions)},t.prototype.prepareForPayment=function(){var n=this;this.customer=this.customer||{},this.meta=this.meta||{},this.customizations=this.customizations||{};var o=document.getElementsByName("checkout")[0].getAttribute("style");this.inlinePaymentOptions=this.data?this.data:{public_key:this.public_key,tx_ref:this.tx_ref,amount:this.amount,currency:this.currency||"NGN",payment_options:this.payment_options||"card, mobilemoney, ussd",redirect_url:this.redirect_url||"",meta:Object.assign({},this.meta_defaults,this.meta),customer:Object.assign({},this.customer_defaults,this.customer),onclose:function(){return n.close.emit()},customizations:Object.assign({},this.customizations_defaults,this.customizations)},this.inlinePaymentOptions.callback=function(t){if(n.closeAfterSuccessfulPayment&&n.durationBeforeClose){var e=1e3*n.durationBeforeClose;setTimeout(function(){console.log("setting initial style"),document.getElementsByName("checkout")[0].setAttribute("style",o+"z-index: -1; opacity: 0")},e)}n.callback.emit(t)}},t}();i.decorators=[{type:e.Component,args:[{selector:"flutterwave-make-payment",template:'\n    <button\n\n      style="{{style}}"\n      [ngClass]="className ? className : \'flutterwave-pay-button\' "\n      (click)="makePayment()">\n      {{text || \'Pay\'}}\n    </button>\n  ',styles:["\n    .flutterwave-pay-button{\n      background-color: #f5a623;\n      border-radius: 4px;\n      border-color: #f5a623;\n      -webkit-box-shadow: 0 2px 3px 0 #ccc;\n              box-shadow: 0 2px 3px 0 #ccc;\n      color: #fff;\n      display: block;\n      font-size: 12px;\n      font-weight: 700;\n      padding: 14px 22px;\n      text-align: center;\n      text-decoration: none;\n      -webkit-transition: all .3s ease-in-out;\n      transition: all .3s ease-in-out;\n\n    }\n  "]}]}],i.ctorParameters=function(){return[]},i.propDecorators={public_key:[{type:e.Input}],tx_ref:[{type:e.Input}],amount:[{type:e.Input}],currency:[{type:e.Input}],payment_options:[{type:e.Input}],redirect_url:[{type:e.Input}],meta:[{type:e.Input}],customer:[{type:e.Input}],callback:[{type:e.Output}],closeAfterSuccessfulPayment:[{type:e.Input}],durationBeforeClose:[{type:e.Input}],close:[{type:e.Output}],customizations:[{type:e.Input}],text:[{type:e.Input}],style:[{type:e.Input}],className:[{type:e.Input}],data:[{type:e.Input}]};var a=function(){function t(){}return t.prototype.inlinePay=function(t){FlutterwaveCheckout(t)},t.prototype.asyncInlinePay=function(o){var s=document.getElementsByName("checkout")[0].getAttribute("style");return new Promise(function(n,t){o=Object.assign({},o,{callback:function(t){if(o.closeAfterSuccessfulPayment&&o.durationBeforeClose){var e=1e3*o.durationBeforeClose;setTimeout(function(){document.getElementsByName("checkout")[0].setAttribute("style",s+"z-index: -1; opacity: 0")},e)}n(t)},onclose:function(){return n("closed")}}),FlutterwaveCheckout(o)})},t}();a.decorators=[{type:e.Injectable}],a.ctorParameters=function(){return[]};var r=function l(){};r.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],declarations:[i],providers:[a],exports:[i]}]}],r.ctorParameters=function(){return[]},t.FlutterwaveModule=r,t.Flutterwave=a,t.InlinePaymentOptions=o,t.PaymentSuccessResponse=s,t.MakePaymentComponent=i,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=flutterwave-angular-v3.umd.min.js.map
